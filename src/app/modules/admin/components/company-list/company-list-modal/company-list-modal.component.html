<div class="contentModal">
  <h1 class="title-modal">{{type}} Company</h1>
  <form [formGroup]="f" (ngSubmit)="submit()" #formUpdate="ngForm" class="form">
    <div>
      <label for="">Name</label>
      <input type="text" placeholder="First Name" name="firstName" id="firstName" formControlName="name" [value]="name.value" [ngClass]="{'has-error' : inputHasError(name, formUpdate.submitted) }">
      <span *ngIf="inputHasError(name, formUpdate.submitted)">
        <sh-error-message [hasError]="name.errors.required" text="name is" strongText="required"></sh-error-message>
        <sh-error-message [hasError]="name.errors.pattern" text="only text is" strongText="allowed"></sh-error-message>
      </span>
    </div>

    <div>
      <label for="">Last Name</label>
      <input type="text" placeholder="Last Name" name="lastName" id="lastName" formControlName="lastName" [value]="lastName.value"
        [ngClass]="{'has-error' : inputHasError(lastName, formUpdate.submitted) }">
      <span *ngIf="inputHasError(lastName, formUpdate.submitted)">
        <sh-error-message [hasError]="lastName.errors.required" text="lastname is" strongText="required"></sh-error-message>
        <sh-error-message [hasError]="lastName.errors.pattern" text="only text is" strongText="allowed"></sh-error-message>
      </span>
    </div>

    <div>
      <label for="">Company</label>
      <input type="text" placeholder="Company" name="companyName" id="companyName" formControlName="companyName" [value]="companyName.value"
        [ngClass]="{'has-error' : inputHasError(companyName, formUpdate.submitted) }">
      <span *ngIf="inputHasError(companyName, formUpdate.submitted)">
        <sh-error-message [hasError]="companyName.errors.required" text="company name is" strongText="required"></sh-error-message>
      </span>
    </div>

    <div>
      <label for="">Email</label>
      <input type="email" placeholder="user@email.com" name="email" id="email" formControlName="email" [value]="email.value" [ngClass]="{'has-error' : inputHasError(email, formUpdate.submitted) }">
      <span *ngIf="inputHasError(email, formUpdate.submitted)">
        <sh-error-message [hasError]="email.errors.required" text="email is" strongText="required"></sh-error-message>
        <sh-error-message [hasError]="email.errors.isEmail && !email.errors.required" text="Enter a valid" strongText="email address"></sh-error-message>
      </span>
    </div>

    <div>
      <label for="">Phone</label>
      <input type="text" placeholder="Phone" name="phone" id="phone" formControlName="phone" [value]="phone.value" [ngClass]="{'has-error' : inputHasError(phone, formUpdate.submitted) }">
      <span *ngIf="inputHasError(phone, formUpdate.submitted)">
        <sh-error-message [hasError]="phone.errors.required" text="phone is" strongText="required"></sh-error-message>
        <sh-error-message [hasError]="phone.errors.isNumber" text="phone is" strongText="invalid"></sh-error-message>
        <sh-error-message [hasError]="phone.errors.maxlength && !phone.errors.isNumber" text="Must have a" strongText="maximum of 20 digits"></sh-error-message>
        <sh-error-message [hasError]="phone.errors.minlength && !phone.errors.isNumber" text="Must have" strongText="at least 10 digits"></sh-error-message>
      </span>
      <br />
    </div>

    <div *ngIf="!loading; then button; else spinner"></div>
    <ng-template #button>
      <button class="update">{{type}} </button>
    </ng-template>
    <ng-template #spinner>
      <sk-wave [isRunning]="loading" color="lightgrey"></sk-wave>
    </ng-template>
  </form>  
</div>
